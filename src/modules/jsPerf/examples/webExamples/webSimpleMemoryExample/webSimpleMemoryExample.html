<!doctype html> <!-- jsPerf webSimpleMemoryExample.html -->
<html lang="en">
<head>
<!--     .--.
    .-._;.--.;_.-.
   (_.'_..--.._'._)        _     ____            __
    /.' . 60 . '.\        (_)___|  _ \ ___ _ __ / _|
   // .      / . \\       | / __| |_) / _ \ '__| |_
  |; .      /   . |;      | \__ \  __/  __/ |  |  _|
  ||45    ()    15||     _/ |___/_|   \___|_|  |_|
  |; .          . |;    |__/ modules for measuring JS memory & timer
   \\ .        . //
    \'._' 30 '_.'/
jgs  '-._'--'_.-'
         `""` -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>jsPerf details</title>
  <meta name="description" content="jsPerf details"/>
  <meta name="mobile-web-app-capable"       content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="msapplication-tap-highlight"  content="no"  />
  <link rel="apple-touch-icon"
        href="../../../../../assets/images/logo/logo256.png"/>
  <link rel="icon"       href="../../../../../assets/images/logo/logo256.png"/>
  <link rel="stylesheet" href="../../../../../assets/fonts/monaSans/monaSans.css"/>
  <link rel="stylesheet" href="../../../../util/reset.css"/>
  <link rel="stylesheet" href="../../../../default/default.css"/>
  <link rel="stylesheet" href="../../index.css"/>

  <script type="module"  src="../../../../default/default.js"></script>
</head>
<body>
  <div class="titleContainer">
    <div class="titleLeft">
      <a class="aNoDecoration" href="../../../../../index.html">
        <img class="titleLogo" src="../../../../../assets/images/logo/logo256.png"/>
      </a>
    </div>
    <div class="titleMiddle">jsPerf with the Web</div>
    <div class="titleRight"><div class="titleDate">date</div></div>
  </div> <!-- titleContainer -->

  <div class="middle">
    <h2>Simple Memory Example</h2>

    <div class=codeBox>
import {prettyNum}  from '../../../../modules/math/math.js';
import {prettyDate} from '../../../../modules/util/util.js';
import {getName,
        getVersion,
        getMemory}  from '../../../../modules/jsPerf/jsPerf.js';

async function main() {
  let headerMsg = '&lt;b&gt;webSimpleMemoryExample.js ' + getName() +
      ' v' + getVersion() + ' ' + prettyDate(new Date) + '&lt;/b&gt;&lt;br&gt;';

  // see the initial heap memory
  let msg = 'baseline heap used:................................... ' +
      prettyNum(await getMemory()).padStart(11, ' ') + '&lt;br&gt;';

  let a = new Array(1e7);
  msg += 'memory after allocating a 10 million item array:...... ' +
    prettyNum(await getMemory()).padStart(11, ' ') + '&lt;br&gt;';

  a = null; // delete the array
  msg += 'memory after de-allocating a 10 million item array:... ' +
    prettyNum(await getMemory()).padStart(11, ' ');

  document.getElementsByClassName('resultsBox')[0].textContent = headerMsg+msg;
}

main();
    </div>

    <br>
    <b>output:</b>
    <div class="resultsBox"></div>
    <script type="module" src="./webSimpleMemoryExample.js"></script>
  </div> <!-- middle -->
</body>
</html>
